"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[931],{8931:(H,d,s)=>{s.r(d),s.d(d,{RecipeUserModule:()=>j});var r=s(6814),_=s(3403),T=s(5061),g=s(7700),e=s(5879),h=s(3423),f=s(2425);function Z(n,o){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}let v=(()=>{class n{constructor(t,a,i,l){this.dialogRef=t,this.data=a,this._UserfavService=i,this._ToastrService=l,this.imgUrl="https://upskilling-egypt.com:3006/",this.emptyImge="../../../../../assets/Images/recipeReview.jpg"}addToFav(t){this._UserfavService.addToFavList(t).subscribe({next:a=>{console.log("favlist",a),this._ToastrService.success("Recipe Added To Fav List Successfully"),this.onNoClick()},error:a=>{console.log(a),this._ToastrService.error(a.error.message)}})}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(g.so),e.Y36(g.WI),e.Y36(h.Y),e.Y36(f._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-viewuserrecipe"]],decls:25,vars:9,consts:[[1,"py-4"],[1,"text-end","px-4"],[1,"text-danger",3,"click"],[1,"fa-solid","fa-xmark-circle","fa-2x"],[1,"container"],["alt","",3,"src"],[1,"fw-bold"],["class","fw-bold",4,"ngFor","ngForOf"],[1,"success-main","w-75",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return i.onNoClick()}),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h1"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Price: "),e.TgZ(12,"span",6),e._uU(13),e.ALo(14,"currency"),e.qZA()(),e.TgZ(15,"p"),e._uU(16,"Category: "),e.YNc(17,Z,2,1,"span",7),e.qZA(),e.TgZ(18,"p"),e._uU(19,"Tag: "),e.TgZ(20,"span",6),e._uU(21),e.qZA()(),e.TgZ(22,"div")(23,"button",8),e.NdJ("click",function(){return i.addToFav(i.data.id)}),e._uU(24,"Add To Favorite"),e.qZA()()()()),2&a&&(e.xp6(5),e.Q6J("src",i.data.imagePath?i.imgUrl+i.data.imagePath:i.emptyImge,e.LSH),e.xp6(2),e.Oqu(i.data.name),e.xp6(2),e.Oqu(i.data.description),e.xp6(4),e.Oqu(e.xi3(14,6,i.data.price," EGP ")),e.xp6(4),e.Q6J("ngForOf",i.data.category),e.xp6(4),e.Oqu(i.data.tag.name))},dependencies:[r.sg,r.H9],styles:["section[_ngcontent-%COMP%]{width:400px;text-align:center}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})();var U=s(4400),C=s(7302),p=s(6311),A=s(2296),x=s(617),b=s(2032),u=s(9157),m=s(6223),R=s(3365),w=s(4913),y=s(3680);function q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.searchValue="",e.KtG(i.getAllRecipes())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function F(n,o){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function O(n,o){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.addToFav(i.id))}),e.qZA()}}function I(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function J(n,o){if(1&n&&(e.TgZ(0,"div",30)(1,"div",31),e.YNc(2,S,1,0,"i",32),e._UZ(3,"img",33),e.TgZ(4,"div",34)(5,"h3"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"div",35),e.YNc(10,I,2,1,"span",36),e.TgZ(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"p"),e._uU(14,"Price: "),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"currency"),e.qZA()()()()()),2&n){const t=o.$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!a.favList.includes(t.id)),e.xp6(1),e.Q6J("src",null!=t&&t.imagePath?a.imgUrl+t.imagePath:a.emptyImge,e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("ngForOf",t.category),e.xp6(2),e.Oqu(null==t.tag?null:t.tag.name),e.xp6(4),e.Oqu(e.xi3(17,7,t.price,"EGP "))}}function N(n,o){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,J,18,10,"div",29),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.listData?null:t.listData.data)}}function M(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function Y(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,M,2,0,"span",41),e.qZA()),2&n){const t=o.$implicit,a=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",a.category.length>1)}}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",42),e._UZ(4,"img",43),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,Y,3,2,"span",36),e.qZA(),e.TgZ(13,"td")(14,"button",44)(15,"mat-icon"),e._uU(16,"more_vert"),e.qZA()(),e.TgZ(17,"mat-menu",null,45)(19,"button",46),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.openDialogView(l))}),e.TgZ(20,"mat-icon"),e._uU(21,"visibility"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"View"),e.qZA()()()()()}if(2&n){const t=o.$implicit,a=e.MAs(18),i=e.oxw(3);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("src",null!=t&&t.imagePath?i.imgUrl+t.imagePath:i.emptyImge,e.LSH),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(t.description.split(" ").slice(0,4).join(" ")),e.xp6(2),e.Oqu(t.tag.name),e.xp6(2),e.Q6J("ngForOf",t.category),e.xp6(2),e.Q6J("matMenuTriggerFor",a)}}function Q(n,o){if(1&n&&(e.ynx(0),e.YNc(1,P,24,7,"tr",36),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listData.data)}}function z(n,o){if(1&n&&(e.TgZ(0,"table",39)(1,"thead")(2,"th",40),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"th",40),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th",40),e._uU(7,"Price"),e.qZA(),e.TgZ(8,"th",40),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th",40),e._uU(11,"Tag"),e.qZA(),e.TgZ(12,"th",40),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"th",40),e._uU(15,"Actions"),e.qZA()(),e.TgZ(16,"tbody"),e.YNc(17,Q,2,1,"ng-container",41),e.qZA()()),2&n){const t=e.oxw();e.xp6(17),e.Q6J("ngIf",t.listData.data.length>0)}}const k=function(){return[]},D=[{path:"",component:(()=>{class n{constructor(t,a,i,l,c){this._RecipeService=t,this._CategoryService=a,this.dialog=i,this._UserfavService=l,this._ToastrService=c,this.showCart=!0,this.showTable=!1,this.searchValue="",this.imgUrl="https://upskilling-egypt.com:3006/",this.emptyImge="../../../../../assets/Images/recipeReview.jpg",this.pageNumber=1,this.listTags=[],this.listCategories=[],this.categoryItem="",this.itemData={},this.favList=[],this.length=50,this.pageSize=10,this.pageIndex=0,this.pageSizeOptions=[5,10,25,100],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.tageId=0,this.cateId=0}Cart(){this.showCart=!0,this.showTable=!1}Table(){this.showCart=!1,this.showTable=!0}handlePageEvent(t){console.log(t),this.length=t.length,this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getAllRecipes()}ngOnInit(){this.getAllRecipes(),this.getAllTags(),this.getAllCategories(),this.getAllFav()}getAllRecipes(){this._RecipeService.getAllRecipes({name:this.searchValue,tagId:this.tageId,categoryId:this.cateId,pageSize:this.pageSize,pageNumber:this.pageNumber}).subscribe({next:a=>{console.log("listData",a),this.listData=a},error:a=>{console.log(a)}})}getAllTags(){this._RecipeService.getAllTags().subscribe({next:t=>{this.listTags=t},error:t=>{console.log(t)}})}getAllCategories(){this._CategoryService.getAllCategories(1e3,1).subscribe({next:t=>{this.listCategories=t.data},error:t=>{console.log(t)}})}getAllFav(){this._UserfavService.getAllFavList(1e3,1).subscribe({next:t=>{console.log("allFav",t),this.favList=t.data}})}openDialogView(t){this.dialog.open(v,{data:t}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i)})}addToFav(t){this._UserfavService.addToFavList(t).subscribe({next:a=>{this.getAllFav(),this._ToastrService.success("Recipe Added To Fav List Successfully")},error:a=>{console.log(a),this._ToastrService.error(a.error.message)}})}openDialogDelete(t){this.dialog.open(T.T,{data:{itemId:t}}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i),this.deleteFromFav(i)})}deleteFromFav(t){this._UserfavService.deleteFromFav(t).subscribe({next:a=>{console.log(a),this._ToastrService.success(a.message)}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(U.j),e.Y36(C.H),e.Y36(g.uw),e.Y36(h.Y),e.Y36(f._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-recipe-user"]],decls:55,vars:21,consts:[[1,"full-page"],[1,"mt-4"],[1,"page-title","w-100","bg-success-main"],[1,"container"],[1,"row","justify-content-between","align-items-center","px-4"],[1,"col-md-6"],[1,"col-md-3"],[1,"text-end"],["src","../../../assets/Images/img-cate.svg","alt","",1,"w-75"],[1,"d-flex","justify-content-between","align-items-center","p-4"],[1,"actions"],[1,"shadow",3,"click"],[1,"fa-solid","fa-table-cells-large","fa-2x"],[1,"fa-solid","fa-list","fa-2x"],[1,"row"],["appearance","outline",1,"w-100"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["class","row g-4",4,"ngIf"],["class","table table-hover text-center",4,"ngIf"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[1,"row","g-4"],["class","col-md-4 ",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"rec-holder","shadow"],["class","fa-regular fa-heart fa-2x",3,"click",4,"ngIf"],["alt","",3,"src"],[1,"info"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"fa-regular","fa-heart","fa-2x",3,"click"],[1,"table","table-hover","text-center"],[1,"py-4"],[4,"ngIf"],[1,"w-25"],["alt","",1,"w-50",3,"src"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h1"),e._uU(8,"Recipes "),e.TgZ(9,"span"),e._uU(10,"Item"),e.qZA()(),e.TgZ(11,"p"),e._uU(12,"You can now add your items that any user can order it from the Application and you can edit"),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7),e._UZ(15,"img",8),e.qZA()()()()(),e.TgZ(16,"div",9)(17,"div")(18,"h3"),e._uU(19,"Recipes Table Details"),e.qZA(),e.TgZ(20,"p"),e._uU(21,"You can check all details"),e.qZA()(),e.TgZ(22,"div",10)(23,"span",11),e.NdJ("click",function(){return i.Cart()}),e._UZ(24,"i",12),e.qZA(),e.TgZ(25,"span",11),e.NdJ("click",function(){return i.Table()}),e._UZ(26,"i",13),e.qZA()()()(),e.TgZ(27,"div",3)(28,"div",14)(29,"div",5)(30,"mat-form-field",15)(31,"mat-label"),e._uU(32,"Clearable input"),e.qZA(),e.TgZ(33,"input",16),e.NdJ("ngModelChange",function(c){return i.searchValue=c})("keyup.enter",function(){return i.getAllRecipes()}),e.qZA(),e.YNc(34,q,3,0,"button",17),e.qZA()(),e.TgZ(35,"div",6)(36,"mat-form-field",18)(37,"mat-label"),e._uU(38,"Tags"),e.qZA(),e.TgZ(39,"mat-select",19),e.NdJ("ngModelChange",function(c){return i.tageId=c})("selectionChange",function(){return i.getAllRecipes()}),e.TgZ(40,"mat-option",20),e._uU(41,"All"),e.qZA(),e.YNc(42,F,2,2,"mat-option",21),e.qZA()()(),e.TgZ(43,"div",6)(44,"mat-form-field",18)(45,"mat-label"),e._uU(46,"Categories"),e.qZA(),e.TgZ(47,"mat-select",19),e.NdJ("ngModelChange",function(c){return i.cateId=c})("selectionChange",function(){return i.getAllRecipes()}),e.TgZ(48,"mat-option",20),e._uU(49,"All"),e.qZA(),e.YNc(50,O,2,2,"mat-option",21),e.qZA()()()(),e.YNc(51,N,2,1,"div",22),e.qZA(),e.YNc(52,z,18,1,"table",23),e.TgZ(53,"mat-paginator",24,25),e.NdJ("page",function(c){return i.handlePageEvent(c)}),e.qZA()()),2&a&&(e.xp6(23),e.Tol(i.showCart?"bg-success-main":"bg-white"),e.xp6(1),e.Tol(i.showCart?"text-white":"success-text"),e.xp6(1),e.Tol(i.showTable?"bg-success-main":"bg-white"),e.xp6(1),e.Tol(i.showTable?"text-white":"success-text"),e.xp6(7),e.Q6J("ngModel",i.searchValue),e.xp6(1),e.Q6J("ngIf",i.searchValue),e.xp6(5),e.Q6J("ngModel",i.tageId),e.xp6(3),e.Q6J("ngForOf",i.listTags),e.xp6(5),e.Q6J("ngModel",i.cateId),e.xp6(3),e.Q6J("ngForOf",i.listCategories),e.xp6(1),e.Q6J("ngIf",i.showCart),e.xp6(1),e.Q6J("ngIf",i.showTable),e.xp6(1),e.Q6J("length",null==i.listData?null:i.listData.totalNumberOfRecords)("pageSize",i.pageSize)("pageSizeOptions",i.showPageSizeOptions?i.pageSizeOptions:e.DdM(20,k))("pageIndex",i.pageNumber))},dependencies:[r.sg,r.O5,p.VK,p.OP,p.p6,A.RK,x.Hw,b.Nt,u.KE,u.hX,u.R9,m.Fj,m.JJ,m.On,R.NW,w.gD,y.ey,r.H9],styles:["table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px}"]})}return n})()}];let V=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(D),_.Bz]})}return n})();var L=s(6208);let j=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[r.ez,V,L.m]})}return n})()}}]);